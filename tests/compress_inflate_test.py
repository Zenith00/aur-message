import pytest
import aursync.flattener as flt
import functools
import logging

logging.basicConfig()
log = logging.getLogger("aursync")

log.setLevel("DEBUG")


test_dict = {"a" : ["my",{"was":"facing","mouse":{"worry":["angry",{"straw":[["develop",[[[[{"gradually":{"broken":[{"split":{"trade":"several","aside":"bag","stairs":"task","influence":"couple","include":"sister","shallow":"avoid","transportation":"has","selection":"material","twice":"equator","rest":"hay","higher":"produce","process":"park","goes":"cage","hour":"agree","our":"too","printed":"transportation","ill":"bare","announced":"program","stage":"bright","advice":"see","sense":"spread","ever":"son","fed":"me","explore":"refer","depend":"club","subject":"silence","song":"recognize","element":"rod","idea":"his","row":"corner","sum":"she","tomorrow":"finger","rabbit":"habit","possibly":"because","muscle":"entirely","progress":"has","business":"instrument","path":"wet","to":"hat","happily":"rapidly","product":"impossible","small":"exercise","throw":"die","allow":"worry","toward":"gift","possible":"enemy","girl":"summer","more":"piano","silly":"dream","total":"gentle","obtain":"page","mathematics":"great","increase":"at","cost":"ate","saved":"arrow","helpful":"quick","write":"tank","having":"bear","everything":"means","lead":"butter","ought":"ought","themselves":"few","winter":"brief","hunter":"tower","uncle":"broken","doll":"electric","getting":"built","greater":"railroad","happen":"swept","prove":"knife","plain":"tin","worry":"breakfast","tube":"simplest","dawn":"steel","essential":"pig","fish":"park","settle":"slow","biggest":"fun","because":"gulf","harbor":"down","decide":"clothes","snow":"other","hearing":"person","favorite":"of","sort":"brief","gather":"favorite","ago":"pain","roll":"personal","atom":"thumb","outline":"touch","zoo":"daily","teach":"surprise","she":"tonight","fairly":"its","come":"supply","hospital":"tide","mass":"tight"},"crack":"bee","strong":"log","might":"major","twelve":"experiment","day":"fresh","liquid":"last","green":"should","free":"discussion","wave":"plastic","recent":"available","boy":"strip","stepped":"baseball","rocket":"fully","essential":"stomach","driven":"expression","popular":"composed","to":"create","task":"yesterday","please":"ocean","college":"appropriate","floating":"location","share":"accurate","closer":"pair","president":"am","mental":"teeth","pencil":"recall","swing":"pencil","herd":"silence","truck":"rubber","strike":"nature","judge":"goose","class":"onto","dig":"plant","roof":"forward","nine":"newspaper","eaten":"examine","trouble":"past","piano":"complete","deer":"diameter","enough":"block","tent":"sing","cent":"great","letter":"shout","open":"short","sum":"willing","wise":"result","chicken":"wrote","straw":"record","three":"mysterious","trade":"fear","sit":"fastened","create":"rabbit","everything":"man","species":"especially","poem":"dream","softly":"what","shallow":"cookies","poetry":"pond","explore":"action","citizen":"larger","should":"bus","cost":"excellent","thin":"new","feet":"hit","mysterious":"continued","accept":"fruit","swept":"down","line":"drove","farther":"applied","town":"mainly","ear":"white","keep":"notice","door":"manufacturing","dull":"forgot","quickly":"never","page":"threw","mistake":"combination","anywhere":"popular","smooth":"wire","bottom":"feet","social":"high","sky":"full","anyway":"poem","student":"transportation","boat":"did","sheet":"oil","doing":"do","research":"circle","toward":"arrow","thick":"ate","human":"pure","blew":"beautiful","farmer":"hard","complex":"week","raise":"onlinetools","will":"rush","taken":"how"},"property","barn","aloud","blew","smell","primitive","given","anyway","gravity","draw","require","writing","win","wheel","three","differ","stage","speak","hill","log","instant","uncle","victory","broken","specific","remember","frog","behind","sense","gold","union","tales","cheese","third","condition","cotton","former","fully","him","during","brave","property","honor","eight","porch","has","out","scared","furniture","who","seed","pupil","burst","door","church","plant","connected","basis","discover","charge","studying","truck","or","here","frame","silence","ourselves","beauty","huge","length","no","owner","wife","word","straw","little","nobody","bat","fifth","smoke","pure","scared","horse","atmosphere","ranch","ants","movie","clear","usually","late","pie","view","trap","public","whistle","use","case","observe","bound"],"diameter":"lunch","give":"wear","nor":"needs","soldier":"wait","land":"electric","body":"suggest","bicycle":"doctor","been":"lake","congress":"movie","loud":"instrument","spent":"till","question":"step","find":"bark","leg":"test","ground":"cent","receive":"bound","third":"palace","behavior":"common","replied":"pair","troops":"rather","establish":"rubber","pleasant":"excitement","born":"recall","several":"road","characteristic":"popular","silly":"weather","indeed":"mostly","asleep":"broad","as":"north","heading":"surface","begun":"require","instead":"girl","tide":"picture","refer":"terrible","mass":"pull","mission":"complex","carried":"medicine","daughter":"paragraph","rose":"along","guess":"keep","arrive":"try","warm":"secret","anyone":"human","live":"opportunity","plan":"naturally","medicine":"pie","did":"satellites","butter":"lying","muscle":"possibly","event":"tide","trick":"ever","period":"instrument","lady":"soon","driving":"manufacturing","frame":"location","table":"smooth","stream":"build","central":"ability","forgot":"remain","breakfast":"ill","ever":"trace","bent":"generally","unit":"deal","planet":"trace","tried":"real","grass":"husband","local":"method","tribe":"threw","major":"arrangement","where":"catch","welcome":"spread","lion":"goes","last":"finally","taught":"does","school":"arrow","deeply":"myself","near":"chapter","flat":"you","object":"equal","pond":"solar","cream":"tool","occur":"music","forgotten":"how","bottom":"group","lungs":"written","giving":"opportunity","advice":"stuck","rising":"immediately","condition":"hard","frog":"common","higher":"proud","population":"elephant","hidden":"molecular","spoken":"own"},"monkey":"square","section":"white","while":"allow","step":"especially","excitement":"dull","queen":"unknown","ruler":"key","gone":"expression","deer":"palace","adjective":"from","feet":"fact","subject":"song","national":"funny","sight":"next","measure":"whale","early":"pet","merely":"heard","roar":"studying","simple":"shadow","youth":"value","term":"before","detail":"saw","word":"quiet","join":"possible","steam":"line","largest":"appearance","cannot":"hunt","become":"faster","clear":"yet","stuck":"twice","horn":"live","separate":"temperature","available":"possible","fourth":"mostly","needed":"enter","identity":"pupil","card":"discuss","point":"progress","art":"discussion","understanding":"basis","factor":"happen","band":"generally","arrange":"climate","function":"colony","ants":"five","figure":"never","happen":"am","language":"farm","bicycle":"back","pattern":"journey","neck":"stretch","meat":"tongue","already":"bone","handsome":"score","said":"soldier","discussion":"boy","her":"time","locate":"garage","automobile":"tongue","page":"action","soil":"row","attention":"say","new":"parts","like":"mouth","brought":"best","talk":"disease","send":"serious","rabbit":"arrangement","piece":"cloth","ride":"attention","out":"paid","meal":"establish","mistake":"mighty","is":"bear","immediately":"research","fall":"fire","proper":"wire","given":"material","down":"gate","fierce":"root","people":"main","moment":"class","silent":"seeing","refer":"planning","mill":"package","noon":"everyone","another":"write","ten":"little","underline":"bridge","wall":"balloon","essential":"discover","position":"storm","positive":"faster","familiar":"distance","bat":"method"},"remarkable","shelter","six","leaf","later","balance","wealth","sheep","row","means","feed","single","plate","ranch","function","till","surrounded","swept","percent","appearance","account","divide","battle","wealth","anything","property","heavy","fair","supper","tax","wonderful","police","opposite","pencil","copy","kill","worse","property","far","bush","valley","life","pressure","pot","whistle","concerned","improve","whom","behavior","physical","plus","found","breeze","dance","using","bank","driven","birthday","view","official","could","closely","contain","sign","copper","which","fireplace","different","jump","word","review","successful","frame","degree","particularly","fastened","out","quiet","planned","now","lady","exclaimed","drink","frequently","fifty","everybody","happily","silent","opposite","compound","environment","element","won","adventure","seven","progress","rice","walk","noon"],"national","energy","happened","hill","arrive","dust","properly","composition","dried","discuss","eaten","attempt","safe","art","bet","apple","plant","colony","field","wait","blank","road","stranger","burst","mathematics","choice","select","lamp","queen","region","sport","brush","outer","iron","verb","cattle","cotton","limited","balance","without","got","several","differ","why","stage","gather","farther","balance","definition","result","exciting","accept","crop","tomorrow","either","swam","office","hall","happily","greater","classroom","writing","ruler","honor","nuts","satellites","rapidly","tone","rear","few","mainly","warm","chest","surface","select","grew","cannot","directly","board","tobacco","suggest","dead","start","mill","including","angle","verb","flies","slabs","usual","golden","whose","actually","fly","master","shelter","strange","worth","make"],"goes","closely","concerned","tiny","still","likely","automobile","simple","among","sum","thirty","signal","various","copper","teach","until","graph","vowel","twenty","doing","globe","lot","dug","addition","enough","applied","wrapped","tried","center","gun","ever","he","sitting","pain","compass","barn","tired","bow","idea","five","was","usually","anywhere","crowd","club","we","care","behavior","native","tide","recent","gate","scene","build","series","driver","determine","slight","catch","identity","tail","oxygen","speed","century","tightly","dirt","first","ourselves","softly","highway","few","than","camp","sat","pattern","ball","thou","problem","terrible","unless","curve","remove","fish","heavy","matter","own","future","giant","born","full","elephant","climate","both","sad","bend","courage","image","caught","buffalo"],"rain","swim","meal","death","program","angle","by","straw","case","two","store","hang","blue","arrangement","success","year","cell","history","cat","buried","liquid","tree","careful","work","early","quiet","hold","charge","elephant","coal","cake","girl","trick","process","down","face","useful","broken","fish","first","baby","rough","anyone","gave","cup","weak","dress","house","taken","slave","world","may","think","careful","alive","earlier","similar","fuel","break","burn","pattern","strike","bus","wool","interest","wealth","symbol","owner","long","construction","mind","slipped","mouth","who","wind","butter","avoid","row","character","club","friendly","syllable","count","air","passage","about","plane","its","setting","floor","rabbit","lost","empty","third","feel","essential","am","shoe","doll"],"till","fair","seeing","valuable","generally","create","wealth","term","dot","no","enter","related","somebody","pilot","buffalo","steep","show","higher","thread","size","explanation","happened","when","nine","everything","specific","threw","slipped","see","environment","south","development","establish","age","rapidly","empty","is","graph","horn","image","muscle","straight","toward","nice","higher","longer","baseball","straw","please","seven","hollow","paid","kids","beat","highway","percent","gate","ability","by","inch","orange","environment","ought","size","suit","laugh","quarter","book","cake","remember","verb","express","two","sent","forgot","farm","government","ready","told","kept","height","cool","bottle","labor","cross","pocket","to","means","continued","practical","putting","differ","hungry","traffic","hang","fully","truth","whispered"],"does","refer","mirror","bigger","shinning","street","held","explain","principle","gravity","key","hollow","made","himself","current","valuable","level","whenever","hat","between","exclaimed","zoo","butter","maybe","mirror","eye","won","another","enter","fun","seven","attached","opportunity","around","page","sit","throat","at","surprise","expression","bee","provide","start","correct","rather","hearing","known","solution","yard","boat","window","prize","labor","longer","library","than","depend","gate","worker","band","coming","important","end","active","orange","success","listen","knife","settlers","edge","wire","happily","gray","command","angry","horse","shelter","twenty","snow","enemy","nodded","coast","shirt","tape","heading","everybody","instrument","fireplace","nails","graph","stranger","come","pilot","weak","honor","magnet","anyway","specific","vote"],"seat":"smaller","element":"coal","clay":"teacher","mine":"perfectly","promised":"score","principle":"pen","additional":"mistake","this":"detail","heat":"protection","visitor":"compare","screen":"told","camp":"higher","later":"ran","mother":"note","crop":"fed","once":"not","it":"settle","bound":"mental","late":"eleven","union":"step","behavior":"driven","giving":"topic","cloud":"verb","without":"dinner","over":"nor","my":"glad","hope":"could","carried":"herself","process":"enjoy","task":"lesson","serious":"out","gate":"massage","cover":"scientist","keep":"mirror","get":"herself","than":"whom","parallel":"similar","rocket":"single","dress":"there","cry":"equal","happily":"mice","goose":"younger","step":"bee","cost":"tongue","might":"gain","sheep":"start","temperature":"clear","animal":"both","fly":"skin","listen":"pound","trace":"trouble","material":"children","class":"sold","roll":"heard","taken":"sold","ruler":"spend","leader":"away","noun":"other","frog":"verb","greatly":"fog","continued":"measure","excellent":"shinning","mix":"sign","effort":"shinning","science":"outline","bowl":"air","yard":"shake","mirror":"anything","fuel":"hit","construction":"divide","live":"herself","hall":"twelve","command":"piano","sing":"its","thus":"exact","wing":"board","sail":"move","short":"quite","be":"draw","earth":"dozen","come":"settle","driving":"believed","past":"drive","younger":"bag","cannot":"planned","shade":"orbit","officer":"kind","test":"later","yes":"mathematics","grandfather":"brain","wherever":"practice","double":"habit","treated":"contain","steady":"grown","became":"tie","evidence":"electric"},"exclaimed","police","lost","merely","sail","horn","but","indeed","test","drew","direction","get","paint","control","shown","few","slide","favorite","leg","course","alphabet","class","discover","behavior","speech","night","column","pet","whatever","bear","breeze","calm","yellow","death","fireplace","relationship","apple","little","news","extra","fastened","wall","course","machine","negative","burn","pleasure","such","begun","traffic","explore","substance","statement","coat","finest","up","faster","end","some","gave","half","shallow","edge","receive","more","to","copy","guard","hearing","personal","born","society","contrast","face","busy","shop","power","pale","turn","since","therefore","fence","corn","fast","football","fresh","empty","choose","grade","butter","faster","fence","swept","they","garage","enjoy","characteristic","tree"],"slept":"balance","useful":"move","greatly":"problem","needed":"earlier","jar":"boat","account":"drawn","hide":"cause","shore":"outside","during":"bell","arrangement":"eager","by":"education","force":"anywhere","nearby":"tone","breathing":"strength","history":"gun","doll":"total","vapor":"carried","national":"good","poet":"paper","per":"addition","soap":"although","add":"flat","party":"card","steam":"special","stiff":"library","regular":"mysterious","limited":"another","point":"present","help":"cowboy","tight":"she","gravity":"thirty","locate":"sign","orange":"slide","journey":"floating","globe":"swept","settlers":"merely","late":"beginning","what":"themselves","group":"wonderful","copy":"easy","temperature":"perfect","shake":"touch","cool":"struggle","folks":"light","reach":"brick","ask":"principle","farther":"oil","ate":"strike","on":"throat","bank":"report","tried":"birthday","rubber":"exciting","last":"war","drop":"whom","rhythm":"sitting","knowledge":"spend","parts":"worker","depth":"teach","cut":"independent","size":"magic","everybody":"die","river":"monkey","hung":"owner","without":"tent","sugar":"cheese","bare":"growth","smallest":"boy","mice":"freedom","steep":"herself","are":"mile","recently":"escape","member":"care","smell":"run","engine":"press","feet":"toy","naturally":"off","customs":"ran","belong":"since","police":"blood","am":"calm","aware":"soldier","fourth":"government","already":"kids","molecular":"dance","zero":"afraid","enjoy":"broad","sweet":"soft","dry":"tube","arm":"writer","quietly":"lips","farmer":"example","solution":"spin","opposite":"roar","compound":"appearance"},"matter":"mail","did":"been","anywhere":"hot","village":"blew","cloth":"tiny","about":"pure","baby":"did","product":"event","vast":"transportation","plane":"silver","lovely":"main","manner":"nuts","crowd":"wing","bend":"full","private":"language","church":"uncle","highest":"earn","bank":"slow","scientist":"citizen","rear":"cold","be":"coat","in":"hurry","new":"soon","offer":"were","means":"pilot","count":"bicycle","are":"grade","simple":"thou","fill":"satellites","plan":"paper","whom":"nervous","wheel":"grabbed","hunt":"could","welcome":"method","example":"edge","heat":"ice","kill":"wore","climate":"pocket","hope":"log","soap":"per","opposite":"official","desert":"taught","behavior":"eleven","shinning":"mountain","wherever":"wall","rubber":"whole","report":"knowledge","involved":"finger","date":"free","probably":"sea","money":"stomach","perfect":"bit","verb":"field","saddle":"yet","stared":"beauty","according":"long","hospital":"cave","studied":"due","master":"dust","save":"anyway","common":"equal","circle":"general","youth":"area","made":"sang","or":"search","symbol":"shoot","answer":"compare","thumb":"those","favorite":"shape","industrial":"maybe","toward":"mouse","because":"remain","push":"population","late":"breathing","support":"feel","stove":"pile","stay":"properly","tank":"shape","view":"luck","pressure":"setting","member":"whole","cloud":"force","swam":"brain","free":"attack","moment":"naturally","spend":"certain","mass":"zero","direct":"tent","separate":"back","steady":"student","planned":"paragraph","pocket":"review","buy":"different","describe":"pure","trip":"industrial","feed":"chose"},"solution","appearance","browserling","class","carry","primitive","result","product","case","chain","jack","same","sentence","trace","because","require","language","your","remove","film","line","develop","distance","depth","fewer","drove","space","final","difference","another","soil","pond","determine","steam","doctor","measure","round","represent","cross","shirt","certainly","success","flower","condition","capital","degree","mixture","kill","brain","recent","count","job","just","believed","teach","perhaps","whistle","largest","go","above","married","rocky","swing","swimming","felt","failed","wet","care","coffee","evening","ground","object","bigger","diameter","joy","ice","ill","knife","usual","had","join","new","stronger","listen","library","wonderful","paper","massage","clay","problem","impossible","mighty","alphabet","whistle","average","such","fence","reach"]}


def test_dict_getset():
    assert flt.inflate(flt.flatten(test_dict)) == test_dict

